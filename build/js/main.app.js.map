{"version":3,"sources":["webpack:///./src/css/app.scss?e8e6","webpack:///./src/js/app.js","webpack:///./src/js/app/components/camera.js","webpack:///./src/js/app/components/controls.js","webpack:///./src/js/app/components/light.js","webpack:///./src/js/app/components/renderer.js","webpack:///./src/js/app/helpers/geometry.js","webpack:///./src/js/app/helpers/material.js","webpack:///./src/js/app/helpers/meshHelper.js","webpack:///./src/js/app/helpers/stats.js","webpack:///./src/js/app/main.js","webpack:///./src/js/app/managers/datGUI.js","webpack:///./src/js/app/managers/interaction.js","webpack:///./src/js/app/model/model.js","webpack:///./src/js/app/model/texture.js","webpack:///./src/js/data/config.js","webpack:///./src/js/utils/detector.js","webpack:///./src/js/utils/helpers.js","webpack:///./src/js/utils/keyboard.js","webpack:///./src/js/utils/orbitControls.js"],"names":["__ENV__","init","Detector","webgl","addGetWebGLMessage","container","document","getElementById","Main","Camera","renderer","width","domElement","height","threeCamera","THREE","Config","camera","fov","near","far","position","set","posX","posY","posZ","updateSize","window","addEventListener","aspect","updateProjectionMatrix","Controls","orbitControls","OrbitControls","threeControls","target","controls","x","y","z","autoRotate","autoRotateSpeed","rotateSpeed","zoomSpeed","minDistance","maxDistance","minPolarAngle","maxPolarAngle","enableDamping","enableZoom","dampingFactor","Light","scene","ambientLight","color","visible","enabled","pointLight","intensity","distance","directionalLight","castShadow","shadow","bias","left","right","top","bottom","mapSize","mapWidth","mapHeight","directionalLightHelper","helperEnabled","hemiLight","groundColor","lightName","add","Renderer","threeRenderer","antialias","alpha","setClearColor","setPixelRatio","devicePixelRatio","appendChild","shadowMap","maxAnisotropy","getMaxAnisotropy","setSize","offsetWidth","offsetHeight","render","Geometry","textures","geo","type","cube","plane","map","widthSegments","heightSegments","radius","depth","rotation","texture","console","log","material","Material","standard","size","divisions","gridHelper","updateMatrix","mesh","receiveShadow","opacity","basic","side","DoubleSide","flatShading","roughness","metalness","depthWrite","transparent","wire","wireframe","MeshHelper","geometry","wireLine","depthTest","edges","edgesLine","rS","bS","glS","tS","Stats","BrowserStats","rStats","CSSPath","userTimingAPI","values","frame","caption","over","average","avgMs","fps","below","calls","raf","rstats","groups","fractions","base","steps","plugins","start","tick","end","update","clock","t","line","count","curve","particles","traffic","starsGeometry","axis","dpr","light","lights","forEach","place","isDev","isShowingStats","stats","setUp","Texture","load","then","manager","model","Model","make","Math","PI","nodeGeometry","nodeMaterial","emissive","specular","shininess","node1","receiveShadows","castShadows","rotateY","node2","node","secondNode","clone","points","getPoints","lg","setFromPoints","lm","onProgress","item","loaded","total","onLoad","Interaction","DatGUI","obj","isLoaded","querySelector","style","display","TWEEN","starsMaterial","star","random","vertices","push","pts","me","children","p","remove","up","pp","getUtoTmapping","pos","getPoint","tangent","getTangent","normalize","crossVectors","radians","acos","dot","quaternion","setFromAxisAngle","requestAnimationFrame","bind","main","gui","dat","GUI","cameraFolder","addFolder","cameraFOVGui","name","onChange","value","enableRotate","onFinishChange","cameraAspectGui","cameraFogColorGui","addColor","fog","setHex","cameraFogNearGui","density","controlsFolder","controlsAutoRotateSpeedGui","meshFolder","ambientLightFolder","directionalLightFolder","directionalLightIntensityGui","directionalLightPositionXGui","directionalLightPositionYGui","directionalLightPositionZGui","shadowFolder","shadowNearGui","dispose","shadowFarGui","shadowTopGui","shadowRightGui","shadowBottomGui","shadowLeftGui","shadowBiasGui","pointLightFolder","pointLightIntensityGui","pointLightDistanceGui","pointLightPositionXGui","pointLightPositionYGui","pointLightPositionZGui","hemiLightFolder","hemiLightIntensityGui","hemiLightPositionXGui","hemiLightPositionYGui","hemiLightPositionZGui","timeout","keyboard","Keyboard","event","Helpers","throttle","onMouseMove","onMouseLeave","onMouseOver","repeat","eventMatches","preventDefault","isMouseOver","clearTimeout","setTimeout","isMouseMoving","loader","path","traverse","child","UV","enableHelper","scale","multiplyScalar","logProgress","logError","imageFiles","promiseArray","setPath","imageFile","Promise","resolve","reject","image","anisotropy","modelOBJ","xhr","Error","all","i","length","Object","keys","reason","isTweening","isRotating","easing","Easing","Quadratic","InOut","duration","translucent","minAzimuthAngle","Infinity","maxAzimuthAngle","canvas","CanvasRenderingContext2D","createElement","WebGLRenderingContext","getContext","e","workers","Worker","fileapi","File","FileReader","FileList","Blob","getWebGLErrorMessage","element","id","fontFamily","fontSize","fontWeight","textAlign","background","padding","margin","innerHTML","join","parameters","parent","undefined","body","fn","threshhold","scope","last","deferTimer","context","now","Date","args","arguments","apply","lengthComputable","percentComplete","round","error","replace","needsUpdate","shading","vertexColors","verticesNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","materialKey","key","ALIAS","keyCodes","onKeyChange","onBlur","removeEventListener","prop","keyCode","keyDesc","split","pressed","indexOf","toUpperCase","charCodeAt","aliases","aliasKeys","shiftKey","ctrlKey","altKey","metaKey","module","exports","MOUSE","LEFT","MIDDLE","RIGHT","OrbitConstraint","object","Vector3","minZoom","maxZoom","EPS","theta","phi","phiDelta","thetaDelta","panOffset","zoomChanged","getPolarAngle","getAzimuthalAngle","rotateLeft","angle","rotateUp","panLeft","v","te","matrix","elements","panUp","pan","deltaX","deltaY","screenWidth","screenHeight","PerspectiveCamera","offset","sub","targetDistance","tan","OrthographicCamera","warn","dollyIn","dollyScale","zoom","max","min","dollyOut","quat","Quaternion","setFromUnitVectors","quatInverse","inverse","lastPosition","lastQuaternion","copy","applyQuaternion","atan2","sqrt","sin","cos","lookAt","distanceToSquared","constraint","defineProperty","get","center","enablePan","keyPanSpeed","enableKeys","UP","BOTTOM","mouseButtons","ORBIT","ZOOM","PAN","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","STATE","NONE","ROTATE","DOLLY","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","state","target0","position0","zoom0","changeEvent","startEvent","endEvent","clientWidth","clientHeight","getAutoRotationAngle","dispatchEvent","reset","getZoomScale","pow","onMouseDown","button","clientX","clientY","onMouseUp","subVectors","onMouseWheel","stopPropagation","delta","wheelDelta","detail","onKeyDown","touchstart","touches","pageX","pageY","dx","dy","touchmove","touchend","contextmenu","prototype","create","EventDispatcher","constructor","defineProperties","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor"],"mappings":"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","file":"main.app.js","sourcesContent":["// extracted by mini-css-extract-plugin","import Config from './data/config';\nimport Detector from './utils/detector';\nimport Main from './app/main';\n\n// Styles\nimport './../css/app.scss';\n\n// Check environment and set the Config helper\nif(__ENV__ === 'dev') {\n  console.log('----- RUNNING IN DEV ENVIRONMENT! -----');\n\n  Config.isDev = true;\n}\n\nfunction init() {\n  // Check for webGL capabilities\n  if(!Detector.webgl) {\n    Detector.addGetWebGLMessage();\n  } else {\n    const container = document.getElementById('appContainer');\n    new Main(container);\n  }\n}\n\ninit();\n","import * as THREE from 'three';\n\nimport Config from '../../data/config';\n\n// Class that creates and updates the main camera\nexport default class Camera {\n  constructor(renderer) {\n    const width = renderer.domElement.width;\n    const height = renderer.domElement.height;\n\n    // Create and position a Perspective Camera\n    this.threeCamera = new THREE.PerspectiveCamera(Config.camera.fov, width / height, Config.camera.near, Config.camera.far);\n    this.threeCamera.position.set(Config.camera.posX, Config.camera.posY, Config.camera.posZ);\n\n    // Initial sizing\n    this.updateSize(renderer);\n    \n    // Listeners\n    window.addEventListener('resize', () => this.updateSize(renderer), false);\n  }\n\n  updateSize(renderer) {\n    // Update camera aspect ratio with window aspect ratio\n    this.threeCamera.aspect = renderer.domElement.width / renderer.domElement.height;\n\n    // Always call updateProjectionMatrix on camera change\n    this.threeCamera.updateProjectionMatrix();\n  }\n}\n","import * as THREE from 'three';\n\nimport OrbitControls from '../../utils/orbitControls';\nimport Config from '../../data/config';\n\n// Controls based on orbit controls\nexport default class Controls {\n  constructor(camera, container) {\n    // Orbit controls first needs to pass in THREE to constructor\n    const orbitControls = new OrbitControls(THREE);\n    this.threeControls = new orbitControls(camera, container);\n\n    this.init();\n  }\n\n  init() {\n    this.threeControls.target.set(Config.controls.target.x, Config.controls.target.y, Config.controls.target.z);\n    this.threeControls.autoRotate = false;\n    this.threeControls.autoRotateSpeed = Config.controls.autoRotateSpeed;\n    this.threeControls.rotateSpeed = Config.controls.rotateSpeed;\n    this.threeControls.zoomSpeed = Config.controls.zoomSpeed;\n    this.threeControls.minDistance = Config.controls.minDistance;\n    this.threeControls.maxDistance = Config.controls.maxDistance;\n    this.threeControls.minPolarAngle = Config.controls.minPolarAngle;\n    this.threeControls.maxPolarAngle = Config.controls.maxPolarAngle;\n    this.threeControls.enableDamping = Config.controls.enableDamping;\n    this.threeControls.enableZoom = Config.controls.enableZoom;\n    this.threeControls.dampingFactor = Config.controls.dampingFactor;\n  }\n}\n","import * as THREE from 'three';\r\n\r\nimport Config from '../../data/config';\r\n\r\n// Sets up and places all lights in scene\r\nexport default class Light {\r\n  constructor(scene) {\r\n    this.scene = scene;\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    // Ambient\r\n    this.ambientLight = new THREE.AmbientLight(Config.ambientLight.color);\r\n    this.ambientLight.visible = Config.ambientLight.enabled;\r\n\r\n    // Point light\r\n    this.pointLight = new THREE.PointLight(Config.pointLight.color, Config.pointLight.intensity, Config.pointLight.distance);\r\n    this.pointLight.position.set(Config.pointLight.x, Config.pointLight.y, Config.pointLight.z);\r\n    this.pointLight.visible = Config.pointLight.enabled;\r\n\r\n    // Directional light\r\n    this.directionalLight = new THREE.DirectionalLight(Config.directionalLight.color, Config.directionalLight.intensity);\r\n    this.directionalLight.position.set(Config.directionalLight.x, Config.directionalLight.y, Config.directionalLight.z);\r\n    this.directionalLight.visible = Config.directionalLight.enabled;\r\n\r\n    // Shadow map\r\n    this.directionalLight.castShadow = Config.shadow.enabled;\r\n    this.directionalLight.shadow.bias = Config.shadow.bias;\r\n    this.directionalLight.shadow.camera.near = Config.shadow.near;\r\n    this.directionalLight.shadow.camera.far = Config.shadow.far;\r\n    this.directionalLight.shadow.camera.left = Config.shadow.left;\r\n    this.directionalLight.shadow.camera.right = Config.shadow.right;\r\n    this.directionalLight.shadow.camera.top = Config.shadow.top;\r\n    this.directionalLight.shadow.camera.bottom = Config.shadow.bottom;\r\n    this.directionalLight.shadow.mapSize.width = Config.shadow.mapWidth;\r\n    this.directionalLight.shadow.mapSize.height = Config.shadow.mapHeight;\r\n\r\n    // Shadow camera helper\r\n    this.directionalLightHelper = new THREE.CameraHelper(this.directionalLight.shadow.camera);\r\n    this.directionalLightHelper.visible = Config.shadow.helperEnabled;\r\n\r\n    // Hemisphere light\r\n    this.hemiLight = new THREE.HemisphereLight(Config.hemiLight.color, Config.hemiLight.groundColor, Config.hemiLight.intensity);\r\n    this.hemiLight.position.set(Config.hemiLight.x, Config.hemiLight.y, Config.hemiLight.z);\r\n    this.hemiLight.visible = Config.hemiLight.enabled;\r\n  }\r\n\r\n  place(lightName) {\r\n    switch(lightName) {\r\n      case 'ambient':\r\n        this.scene.add(this.ambientLight);\r\n        break;\r\n\r\n      case 'directional':\r\n        this.scene.add(this.directionalLight);\r\n        this.scene.add(this.directionalLightHelper);\r\n        break;\r\n\r\n      case 'point':\r\n        this.scene.add(this.pointLight);\r\n        break;\r\n\r\n      case 'hemi':\r\n        this.scene.add(this.hemiLight);\r\n        break;\r\n    }\r\n  }\r\n}\r\n","import * as THREE from 'three';\n\nimport Config from '../../data/config';\n\n// Main webGL renderer class\nexport default class Renderer {\n  constructor(scene, container) {\n    // Properties\n    this.scene = scene;\n    this.container = container;\n\n    // Create WebGL renderer and set its antialias\n    this.threeRenderer = new THREE.WebGLRenderer({antialias: true,alpha:true});\n\n    // Set clear color to fog to enable fog or to hex color for no fog\n    //this.threeRenderer.setClearColor(scene.fog.color);\n    this.threeRenderer.setClearColor( 0x000000, 0 ); // the default\n    this.threeRenderer.setPixelRatio(window.devicePixelRatio); // For retina\n    // Appends canvas\n    container.appendChild(this.threeRenderer.domElement);\n\n    // Shadow map options\n    this.threeRenderer.shadowMap.enabled = true;\n    //this.threeRenderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n    // Get anisotropy for textures\n    Config.maxAnisotropy = this.threeRenderer.getMaxAnisotropy();\n\n    // Initial size update set to canvas container\n    this.updateSize();\n\n    // Listeners\n    document.addEventListener('DOMContentLoaded', () => this.updateSize(), false);\n    window.addEventListener('resize', () => this.updateSize(), false);\n  }\n\n  updateSize() {\n    this.threeRenderer.setSize(this.container.offsetWidth, this.container.offsetHeight);\n  }\n\n  render(scene, camera) {\n    // Renders scene to canvas target\n    this.threeRenderer.render(scene, camera);\n  }\n}\n","import * as THREE from 'three';\n\nimport Material from './material';\n\nimport Config from '../../data/config';\n\n// This helper class can be used to create and then place geometry in the scene\nexport default class Geometry {\n  constructor(scene, textures) {\n    this.scene = scene;\n    this.geo = null;\n    this.type = null;\n    this.cube = null;\n    this.plane = null;\n    this.map = null;\n    this.textures = textures;\n  }\n\n  make(type) {\n    if(type === 'plane') {\n      this.type = type;\n      return (width, height, widthSegments = 1, heightSegments = 1) => {\n        this.geo = new THREE.PlaneGeometry(width, height, widthSegments, heightSegments);\n      };\n    }\n    if(type === 'map') {\n      this.type = type;\n      return (width, height, widthSegments = 1, heightSegments = 1) => {\n        this.geo = new THREE.PlaneGeometry(width, height, widthSegments, heightSegments);\n      };\n    }\n    if(type === 'sphere') {\n      this.type = type;\n      return (radius, widthSegments = 32, heightSegments = 32) => {\n        this.geo = new THREE.SphereGeometry(radius, widthSegments, heightSegments);\n      };\n    }\n    if(type === 'cube') {\n      this.type = type;\n      return (width, height,depth) => {\n        this.geo = new THREE.BoxGeometry( width,height, depth);\n      };\n    }\n    if(type === 'node'){\n      this.type = type;\n      return ( radius ) => {\n        this.geo = new THREE.CylinderGeometry( radius, radius, 4, 32 );\n      };\n    }\n  }\n\n  place(position, rotation,texture) {\n    console.log(texture);\n    let material = new Material(0x000000,0.3).standard;\n    if(this.type == 'plane'){\n      material = new Material(0x000000,0.66).plane;\n     // material = new Material(0xffffff,1).plane;\n     var size = 130;\n      var divisions = 10;\n     var gridHelper = new THREE.GridHelper( size, divisions, 0xffffff,0xffffff);\n      gridHelper.position.set(...position);\n      gridHelper.position.y +=0.1;\n      gridHelper.updateMatrix ()\n      this.scene.add( gridHelper );\n   }\n   if(this.type == 'cube'){\n    material = new Material(0x17f7ae,0.3).standard;\n  }\n  if(this.type == 'node'){\n    material = new Material(0x17a7ae,0.3).standard;\n  }\n  if(this.type == 'map'){\n    material = new Material(0x000000,null).map;\n    material.map = this.textures.map;\n  }\n  const mesh = new THREE.Mesh(this.geo, material);\nswitch(this.type){\n  case 'cube': this.cube = mesh; break;\n  case 'map': this.map = mesh; break;\n  case 'plane': this.plane = mesh; break;\n}\n  console.log(mesh);\n    // Use ES6 spread to set position and rotation from passed in array\n    mesh.position.set(...position);\n    mesh.rotation.set(...rotation);\n\n    if(Config.shadow.enabled) {\n      mesh.receiveShadow = true;\n      mesh.castShadow = true;\n    }\n\n    this.scene.add(mesh);\n  }\n}\n","import * as THREE from 'three';\n\nimport Config from '../../data/config';\n\n// USe this class as a helper to set up some default materials\nexport default class Material {\n  constructor(color, opacity) {\n    if(typeof opacity === null) opacity = 1.0\n    this.basic = new THREE.MeshBasicMaterial({\n      color,\n      side: THREE.DoubleSide\n    });\n\n    this.standard = new THREE.MeshStandardMaterial({\n      color,\n      flatShading: false,\n      roughness: 1,\n      metalness: 0,\n      side: THREE.DoubleSide\n    });\n\n    this.plane = new THREE.MeshToonMaterial({\n      color,\n      opacity,\n      flatShading: true,\n      side: THREE.DoubleSide,\n      depthWrite: false,\n      transparent: true,\n    });\n    this.map = new THREE.MeshBasicMaterial({\n\n    })\n\n    this.wire = new THREE.MeshBasicMaterial({wireframe: true});\n  }\n}\n\n","import * as THREE from 'three';\n\n// Simple mesh helper that shows edges, wireframes, and face and vertex normals\nexport default class MeshHelper {\n  constructor(scene, mesh) {\n    const wireframe = new THREE.WireframeGeometry(mesh.geometry);\n    const wireLine = new THREE.LineSegments(wireframe);\n    wireLine.material.depthTest = false;\n    wireLine.material.opacity = 0.25;\n    wireLine.material.transparent = true;\n    mesh.add(wireLine);\n\n    const edges = new THREE.EdgesGeometry(mesh.geometry);\n    const edgesLine = new THREE.LineSegments(edges);\n    edgesLine.material.depthTest = false;\n    edgesLine.material.opacity = 0.25;\n    edgesLine.material.transparent = true;\n    mesh.add(edgesLine);\n\n    scene.add(new THREE.BoxHelper(mesh));\n    scene.add(new THREE.FaceNormalsHelper(mesh, 2));\n    scene.add(new THREE.VertexNormalsHelper(mesh, 2));\n  }\n}\n","// Local vars for rStats\nlet rS, bS, glS, tS;\n\nexport default class Stats {\n  constructor(renderer) {\n    this.renderer = renderer;\n  }\n\n  setUp() {\n    bS = new BrowserStats();\n    //glS = new glStats();\n  //  tS = new threeStats(this.renderer.threeRenderer);\n\n    rS = new rStats({\n      CSSPath: './css/',\n      userTimingAPI: true,\n      values: {\n        frame: { caption: 'Total frame time (ms)', over: 16, average: true, avgMs: 100 },\n        fps: { caption: 'Framerate (FPS)', below: 30 },\n        calls: { caption: 'Calls (three.js)', over: 3000 },\n        raf: { caption: 'Time since last rAF (ms)', average: true, avgMs: 100 },\n        rstats: { caption: 'rStats update (ms)', average: true, avgMs: 100 },\n        texture: { caption: 'GenTex', average: true, avgMs: 100 }\n      },\n      groups: [\n        { caption: 'Framerate', values: ['fps', 'raf'] },\n        { caption: 'Frame Budget', values: ['frame', 'texture', 'setup', 'render'] }\n      ],\n      fractions: [\n        { base: 'frame', steps: ['texture', 'setup', 'render'] }\n      ],\n      plugins: [bS]//glS]\n    });\n  };\n\n  static start() {\n    rS('frame').start();\n   // glS.start();\n\n    rS('rAF').tick();\n    rS('FPS').frame();\n\n    rS('render').start();\n  };\n\n  static end() {\n    rS('render').end(); // render finished\n    rS('frame').end(); // frame finished\n\n    // Local rStats update\n    rS('rStats').start();\n    rS().update();\n    rS('rStats').end();\n  };\n}\n","// Global imports -\nimport * as THREE from 'three';\nimport TWEEN from 'tween.js';\n\n// Local imports -\n// Components\nimport Renderer from './components/renderer';\nimport Camera from './components/camera';\nimport Light from './components/light';\nimport Controls from './components/controls';\n\n// Helpers\nimport Geometry from './helpers/geometry';\nimport Stats from './helpers/stats';\n\n// Model\nimport Texture from './model/texture';\nimport Model from './model/model';\n\n// Managers\nimport Interaction from './managers/interaction';\nimport DatGUI from './managers/datGUI';\n\n// data\nimport Config from './../data/config';\n// -- End of imports\n\n// This class instantiates and ties all of the components together, starts the loading process and renders the main loop\nexport default class Main {\n  constructor(container) {\n    // Set container property to container element\n    this.container = container;\n\n    // Start Three clock\n    this.clock = new THREE.Clock();\n    this.t = 0;\n    this.line = null;\n    this.count = 0;\n    this.curve = null;\n    this.particles= [];\n    this.traffic = new THREE.Group();\n    this.starsGeometry = null;\n    this.axis = new THREE.Vector3( );\n    // Main scene creation\n    this.scene = new THREE.Scene();\n    //this.scene.fog = new THREE.FogExp2(Config.fog.color, Config.fog.near);\n\n    // Get Device Pixel Ratio first for retina\n    if(window.devicePixelRatio) {\n      Config.dpr = window.devicePixelRatio;\n    }\n\n    // Main renderer constructor\n    this.renderer = new Renderer(this.scene, container);\n\n    // Components instantiations\n    this.camera = new Camera(this.renderer.threeRenderer);\n\n    console.log(this.camera.threeCamera.position)\n    this.controls = new Controls(this.camera.threeCamera, container);\n    this.light = new Light(this.scene);\n\n    // Create and place lights in scene\n    const lights = ['ambient', 'directional', 'point', 'hemi'];\n    lights.forEach((light) => this.light.place(light));\n    // Create and place geo in scene\n\n\n\n    // Set up rStats if dev environment\n    if(Config.isDev && Config.isShowingStats) {\n      this.stats = new Stats(this.renderer);\n      this.stats.setUp();\n    }\n\n    // Instantiate texture class\n    this.texture = new Texture();\n\n    // Start loading the textures and then go on to load the model after the texture Promises have resolved\n    this.texture.load().then(() => {\n      this.manager = new THREE.LoadingManager();\n\n      // Textures loaded, load model\n      this.model = new Model(this.scene, this.manager, this.texture.textures);\n      this.model.load();\n      this.geometry = new Geometry(this.scene, this.texture.textures);\n      this.geometry.make('plane')(130, 130, 1, 1);\n      this.geometry.place([0, 10, 0], [Math.PI / 2, 0, 0]);\n      this.geometry.make('map')(150, 150, 1, 1);\n      this.geometry.place([0, -15, 0], [-Math.PI / 2, 0, 0]);\n      this.geometry.make('cube')(15,15,15);\n      this.geometry.place([0, 30, 0], [Math.PI / 36, Math.PI / 4,0]);\n      var nodeGeometry = new THREE.CylinderGeometry( 2, 2, 1.5, 32 );\t\n      var nodeMaterial = new THREE.MeshToonMaterial( {\n        transparent: true,\n        flatShading: true,\n        opacity: 1,\n        color: 1570734,\n        emissive: 0,\n        specular: 0,\n        shininess: 0\n      } );\n      var node1 = new THREE.Mesh( nodeGeometry, nodeMaterial );\n    \n      node1.receiveShadows = true;\n      node1.castShadows = true;\n      node1.rotateY(  Math.PI / 4)\n    \n      var node2 = new THREE.Mesh( nodeGeometry, nodeMaterial );\n      node2.position.y = 1.75;\n      node2.receiveShadows = true;\n      node2.castShadows = true;\n      node2.rotateY(  Math.PI / 4)\n      // cube.rotateX(  Math.PI / 12)\n      // cube.rotateZ(  Math.PI / 12)\n      var node = new THREE.Group();\n      node.add(node1);\n      node.add(node2);\n      node.position.y = this.geometry.plane.position.y+1.1;\n      node.position.x = 45;\n      node.position.z = 50;\n      this.scene.add(node);\n    \n      var secondNode = node.clone();\n      secondNode.position.x = -13;\n      secondNode.position.z = -2.5;\n      this.scene.add(secondNode);\n      var curve = new THREE.CatmullRomCurve3( [\n      new THREE.Vector3(this.geometry.cube.position.x,this.geometry.cube.position.y-7.5,this.geometry.cube.position.z),\n      new THREE.Vector3(this.geometry.cube.position.x,this.geometry.cube.position.y-14,this.geometry.cube.position.z),\n      new THREE.Vector3(node.position.x, node.position.y+4, node.position.z),\n      node.position,\n      //new THREE.Vector3(node.position.x, node.position.y-8, node.position.z),\n      new THREE.Vector3(node.position.x, this.geometry.map.position.y, node.position.z)\n      ]);\n      this.curve = curve;\n      var points = curve.getPoints( 30 );\n      var lg = new THREE.BufferGeometry().setFromPoints( points );\n      var lm = new THREE.LineBasicMaterial( { color: 0x0000ff } );\n      this.line = new THREE.Line( lg, lm );\n    //  this.scene.add( this.line );\n\n        this.scene.add(this.traffic);\n\n      // onProgress callback\n      this.manager.onProgress = (item, loaded, total) => {\n        console.log(`${item}: ${loaded} ${total}`);\n      };\n\n      // All loaders done now\n      this.manager.onLoad = () => {\n        // Set up interaction manager with the app now that the model is finished loading\n        new Interaction(this.renderer.threeRenderer, this.scene, this.camera.threeCamera, this.controls.threeControls);\n\n        // Add dat.GUI controls if dev\n        if(Config.isDev) {\n          new DatGUI(this, this.model.obj);\n        }\n\n        // Everything is now fully loaded\n        Config.isLoaded = true;\n        this.container.querySelector('#loading').style.display = 'none';\n      };\n    });\n\n    // Start render which does not wait for model fully loaded\n    this.render();\n  }\n\n  render() {\n    // Render rStats if Dev\n    if(Config.isDev && Config.isShowingStats) {\n      Stats.start();\n    }\n\n    // Call render function and pass in created scene and camera\n    this.renderer.render(this.scene, this.camera.threeCamera);\n\n    // rStats has finished determining render call now\n    if(Config.isDev && Config.isShowingStats) {\n      Stats.end();\n    }\n\n    // Delta time is sometimes needed for certain updates\n    //const delta = this.clock.getDelta();\n\n    // Call any vendor or module frame updates here\n    TWEEN.update();\n    this.controls.threeControls.update();\n\n    // RAF\n    if(this.curve !== null){\n   //   console.log(this.traffic);\n\n   // console.log(this.traffic.children);\n   var starsMaterial = new THREE.PointsMaterial( { color: 0x17e7ae } );\n   let starsGeometry = new THREE.Geometry();\n   let star = new THREE.Vector3(Math.random()*2-1,Math.random()*2-1,Math.random()*2-1);\n   starsGeometry.vertices.push(star);\n   var pts = new THREE.Points( starsGeometry, starsMaterial );\n   pts.t = 0;\n   //console.log('wat');\n   //console.log(pts);\n   this.traffic.add(pts);\n   this.traffic.updateMatrix();\n   let me= this;\n    // set the quaternion\n    this.traffic.children.forEach(function(p){\n      (p.t <= 0.995) ? p.t+=0.005 : me.traffic.remove(p);\n      var up = new THREE.Vector3( 0, 1, 0 );\n      var pp = me.curve.getUtoTmapping(p.t)\n      var pos =  me.curve.getPoint(pp);\n      var tangent = me.curve.getTangent(p.t).normalize();\n     // console.log(tangent);\n      let axis = new THREE.Vector3();\n      axis.crossVectors( up, tangent ).normalize();\n      var radians = Math.acos( up.dot( tangent ) );\n      p.quaternion.setFromAxisAngle( axis, radians );\n      p.position.x = pos.x;\n      p.position.y = pos.y;\n      p.position.z =  pos.z;\n      p.updateMatrix();\n    })\n    me.traffic = this.traffic\n   // .position.set(pos.x, pos.y, pos.z);\n\n    }\n    requestAnimationFrame(this.render.bind(this)); // Bind the main class instead of window object\n  }\n}\n","import Config from '../../data/config';\n\n// Manages all dat.GUI interactions\nexport default class DatGUI {\n  constructor(main, mesh) {\n    const gui = new dat.GUI();\n\n    this.camera = main.camera.threeCamera;\n    this.controls = main.controls.threeControls;\n    this.light = main.light;\n\n    /* Global */\n    //gui.close();\n\n    /* Camera */\n    const cameraFolder = gui.addFolder('Camera');\n    const cameraFOVGui = cameraFolder.add(Config.camera, 'fov', 0, 180).name('Camera FOV');\n    cameraFOVGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.camera.fov = value;\n    });\n    cameraFOVGui.onFinishChange(() => {\n      this.camera.updateProjectionMatrix();\n\n      this.controls.enableRotate = true;\n    });\n    const cameraAspectGui = cameraFolder.add(Config.camera, 'aspect', 0, 4).name('Camera Aspect');\n    cameraAspectGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.camera.aspect = value;\n    });\n    cameraAspectGui.onFinishChange(() => {\n      this.camera.updateProjectionMatrix();\n\n      this.controls.enableRotate = true;\n    });\n    const cameraFogColorGui = cameraFolder.addColor(Config.fog, 'color').name('Fog Color');\n    cameraFogColorGui.onChange((value) => {\n      main.scene.fog.color.setHex(value);\n    });\n    const cameraFogNearGui = cameraFolder.add(Config.fog, 'near', 0.000, 0.010).name('Fog Near');\n    cameraFogNearGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      main.scene.fog.density = value;\n    });\n    cameraFogNearGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n\n\n    /* Controls */\n    const controlsFolder = gui.addFolder('Controls');\n    controlsFolder.add(Config.controls, 'autoRotate').name('Auto Rotate').onChange((value) => {\n      this.controls.autoRotate = value;\n    });\n    const controlsAutoRotateSpeedGui = controlsFolder.add(Config.controls, 'autoRotateSpeed', -1, 1).name('Rotation Speed');\n    controlsAutoRotateSpeedGui.onChange((value) => {\n      this.controls.enableRotate = false;\n      this.controls.autoRotateSpeed = value;\n    });\n    controlsAutoRotateSpeedGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n\n\n    /* Mesh */\n     const meshFolder = gui.addFolder('Mesh');\n     meshFolder.add(Config.mesh, 'translucent', true).name('Translucent').onChange((value) => {\n       if(value) {\n         mesh.material.transparent = true;\n         mesh.material.opacity = 0.5;\n       } else {\n         mesh.material.opacity = 1.0;\n       }\n     });\n     meshFolder.add(Config.mesh, 'wireframe', true).name('Wireframe').onChange((value) => {\n       mesh.material.wireframe = value;\n     });\n\n\n    /* Lights */\n    // Ambient Light\n    const ambientLightFolder = gui.addFolder('Ambient Light');\n    ambientLightFolder.add(Config.ambientLight, 'enabled').name('Enabled').onChange((value) => {\n      this.light.ambientLight.visible = value;\n    });\n    ambientLightFolder.addColor(Config.ambientLight, 'color').name('Color').onChange((value) => {\n      this.light.ambientLight.color.setHex(value);\n    });\n\n\n  //   // Directional Light\n    const directionalLightFolder = gui.addFolder('Directional Light');\n    directionalLightFolder.add(Config.directionalLight, 'enabled').name('Enabled').onChange((value) => {\n      this.light.directionalLight.visible = value;\n    });\n    directionalLightFolder.addColor(Config.directionalLight, 'color').name('Color').onChange((value) => {\n      this.light.directionalLight.color.setHex(value);\n    });\n    const directionalLightIntensityGui = directionalLightFolder.add(Config.directionalLight, 'intensity', 0, 2).name('Intensity');\n    directionalLightIntensityGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.directionalLight.intensity = value;\n    });\n    directionalLightIntensityGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n    const directionalLightPositionXGui = directionalLightFolder.add(Config.directionalLight, 'x', -1000, 1000).name('Position X');\n    directionalLightPositionXGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.directionalLight.position.x = value;\n    });\n    directionalLightPositionXGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n    const directionalLightPositionYGui = directionalLightFolder.add(Config.directionalLight, 'y', -1000, 1000).name('Position Y');\n    directionalLightPositionYGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.directionalLight.position.y = value;\n    });\n    directionalLightPositionYGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n    const directionalLightPositionZGui = directionalLightFolder.add(Config.directionalLight, 'z', -1000, 1000).name('Position Z');\n    directionalLightPositionZGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.directionalLight.position.z = value;\n    });\n    directionalLightPositionZGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n\n    // Shadow Map\n    const shadowFolder = gui.addFolder('Shadow Map');\n    shadowFolder.add(Config.shadow, 'enabled').name('Enabled').onChange((value) => {\n      this.light.directionalLight.castShadow = value;\n    });\n    shadowFolder.add(Config.shadow, 'helperEnabled').name('Helper Enabled').onChange((value) => {\n      this.light.directionalLightHelper.visible = value;\n    });\n    const shadowNearGui = shadowFolder.add(Config.shadow, 'near', 0, 400).name('Near');\n    shadowNearGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.directionalLight.shadow.camera.near = value;\n    });\n    shadowNearGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n      this.light.directionalLight.shadow.map.dispose();\n      this.light.directionalLight.shadow.map = null;\n      this.light.directionalLightHelper.update();\n    });\n    const shadowFarGui = shadowFolder.add(Config.shadow, 'far', 0, 1200).name('Far');\n    shadowFarGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.directionalLight.shadow.camera.far = value;\n    });\n    shadowFarGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n      this.light.directionalLight.shadow.map.dispose();\n      this.light.directionalLight.shadow.map = null;\n      this.light.directionalLightHelper.update();\n    });\n    const shadowTopGui = shadowFolder.add(Config.shadow, 'top', -400, 400).name('Top');\n    shadowTopGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.directionalLight.shadow.camera.top = value;\n    });\n    shadowTopGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n      this.light.directionalLight.shadow.map.dispose();\n      this.light.directionalLight.shadow.map = null;\n      this.light.directionalLightHelper.update();\n    });\n    const shadowRightGui = shadowFolder.add(Config.shadow, 'right', -400, 400).name('Right');\n    shadowRightGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.directionalLight.shadow.camera.right = value;\n    });\n    shadowRightGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n      this.light.directionalLight.shadow.map.dispose();\n      this.light.directionalLight.shadow.map = null;\n      this.light.directionalLightHelper.update();\n    });\n    const shadowBottomGui = shadowFolder.add(Config.shadow, 'bottom', -400, 400).name('Bottom');\n    shadowBottomGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.directionalLight.shadow.camera.bottom = value;\n    });\n    shadowBottomGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n      this.light.directionalLight.shadow.map.dispose();\n      this.light.directionalLight.shadow.map = null;\n      this.light.directionalLightHelper.update();\n    });\n    const shadowLeftGui = shadowFolder.add(Config.shadow, 'left', -400, 400).name('Left');\n    shadowLeftGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.directionalLight.shadow.camera.left = value;\n    });\n    shadowLeftGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n      this.light.directionalLight.shadow.map.dispose();\n      this.light.directionalLight.shadow.map = null;\n      this.light.directionalLightHelper.update();\n    });\n    const shadowBiasGui = shadowFolder.add(Config.shadow, 'bias', -0.000010, 1).name('Bias');\n    shadowBiasGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.directionalLight.shadow.bias = value;\n    });\n    shadowBiasGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n      this.light.directionalLight.shadow.map.dispose();\n      this.light.directionalLight.shadow.map = null;\n      this.light.directionalLightHelper.update();\n    });\n\n\n    // Point Light\n    const pointLightFolder = gui.addFolder('Point Light');\n    pointLightFolder.add(Config.pointLight, 'enabled').name('Enabled').onChange((value) => {\n      this.light.pointLight.visible = value;\n    });\n    pointLightFolder.addColor(Config.pointLight, 'color').name('Color').onChange((value) => {\n      this.light.pointLight.color.setHex(value);\n    });\n    const pointLightIntensityGui = pointLightFolder.add(Config.pointLight, 'intensity', 0, 2).name('Intensity');\n    pointLightIntensityGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.pointLight.intensity = value;\n    });\n    pointLightIntensityGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n    const pointLightDistanceGui = pointLightFolder.add(Config.pointLight, 'distance', 0, 1000).name('Distance');\n    pointLightDistanceGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.pointLight.distance = value;\n    });\n    pointLightDistanceGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n    const pointLightPositionXGui = pointLightFolder.add(Config.pointLight, 'x', -1000, 1000).name('Position X');\n    pointLightPositionXGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.pointLight.position.x = value;\n    });\n    pointLightPositionXGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n    const pointLightPositionYGui = pointLightFolder.add(Config.pointLight, 'y', -1000, 1000).name('Position Y');\n    pointLightPositionYGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.pointLight.position.y = value;\n    });\n    pointLightPositionYGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n    const pointLightPositionZGui = pointLightFolder.add(Config.pointLight, 'z', -1000, 1000).name('Position Z');\n    pointLightPositionZGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.pointLight.position.z = value;\n    });\n    pointLightPositionZGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n\n\n  //   // Hemi Light\n    const hemiLightFolder = gui.addFolder('Hemi Light');\n    hemiLightFolder.add(Config.hemiLight, 'enabled').name('Enabled').onChange((value) => {\n      this.light.hemiLight.visible = value;\n    });\n    hemiLightFolder.addColor(Config.hemiLight, 'color').name('Color').onChange((value) => {\n      this.light.hemiLight.color.setHex(value);\n    });\n    hemiLightFolder.addColor(Config.hemiLight, 'groundColor').name('ground Color').onChange((value) => {\n      this.light.hemiLight.groundColor.setHex(value);\n    });\n    const hemiLightIntensityGui = hemiLightFolder.add(Config.hemiLight, 'intensity', 0, 2).name('Intensity');\n    hemiLightIntensityGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.hemiLight.intensity = value;\n    });\n    hemiLightIntensityGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n    const hemiLightPositionXGui = hemiLightFolder.add(Config.hemiLight, 'x', -1000, 1000).name('Position X');\n    hemiLightPositionXGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.hemiLight.position.x = value;\n    });\n    hemiLightPositionXGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n    const hemiLightPositionYGui = hemiLightFolder.add(Config.hemiLight, 'y', -500, 1000).name('Position Y');\n    hemiLightPositionYGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.hemiLight.position.y = value;\n    });\n    hemiLightPositionYGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n    const hemiLightPositionZGui = hemiLightFolder.add(Config.hemiLight, 'z', -1000, 1000).name('Position Z');\n    hemiLightPositionZGui.onChange((value) => {\n      this.controls.enableRotate = false;\n\n      this.light.hemiLight.position.z = value;\n    });\n    hemiLightPositionZGui.onFinishChange(() => {\n      this.controls.enableRotate = true;\n    });\n   }\n}\n","import Keyboard from '../../utils/keyboard';\r\nimport Helpers from '../../utils/helpers';\r\nimport Config from '../../data/config';\r\n\r\n// Manages all input interactions\r\nexport default class Interaction {\r\n  constructor(renderer, scene, camera, controls) {\r\n    // Properties\r\n    this.renderer = renderer;\r\n    this.scene = scene;\r\n    this.camera = camera;\r\n    this.controls = controls;\r\n\r\n    this.timeout = null;\r\n\r\n    // Instantiate keyboard helper\r\n    this.keyboard = new Keyboard();\r\n\r\n    // Listeners\r\n    // Mouse events\r\n    this.renderer.domElement.addEventListener('mousemove', (event) => Helpers.throttle(this.onMouseMove(event), 250), false);\r\n    this.renderer.domElement.addEventListener('mouseleave', (event) => this.onMouseLeave(event), false);\r\n    this.renderer.domElement.addEventListener('mouseover', (event) => this.onMouseOver(event), false);\r\n\r\n    // Keyboard events\r\n    this.keyboard.domElement.addEventListener('keydown', (event) => {\r\n      // Only once\r\n      if(event.repeat) {\r\n        return;\r\n      }\r\n\r\n      if(this.keyboard.eventMatches(event, 'escape')) {\r\n        console.log('Escape pressed');\r\n      }\r\n    });\r\n  }\r\n\r\n  onMouseOver(event) {\r\n    event.preventDefault();\r\n\r\n    Config.isMouseOver = true;\r\n  }\r\n\r\n  onMouseLeave(event) {\r\n    event.preventDefault();\r\n\r\n    Config.isMouseOver = false;\r\n  }\r\n\r\n  onMouseMove(event) {\r\n    event.preventDefault();\r\n\r\n    clearTimeout(this.timeout);\r\n\r\n    this.timeout = setTimeout(function() {\r\n      Config.isMouseMoving = false;\r\n    }, 200);\r\n\r\n    Config.isMouseMoving = true;\r\n  }\r\n}\r\n","import * as THREE from 'three';\r\n\r\nimport Material from '../helpers/material';\r\nimport MeshHelper from '../helpers/meshHelper';\r\nimport Helpers from '../../utils/helpers';\r\nimport Config from '../../data/config';\r\n\r\n// Loads in a single object from the config file\r\nexport default class Model {\r\n  constructor(scene, manager, textures) {\r\n    this.scene = scene;\r\n    this.textures = textures;\r\n\r\n    // Manager is passed in to loader to determine when loading done in main\r\n    this.loader = new THREE.ObjectLoader(manager);\r\n    this.obj = null;\r\n  }\r\n\r\n  load() {\r\n    // Load model with ObjectLoader\r\n    this.loader.load(\r\n      Config.model.path,\r\n      obj => {\r\n        obj.traverse(child => {\r\n          if(child instanceof THREE.Mesh) {\r\n            // Create material for mesh and set its map to texture by name from preloaded textures\r\n            const material = new Material(0xffffff).standard;\r\n            material.map = this.textures.UV;\r\n            child.material = material;\r\n\r\n            // Set to cast and receive shadow if enabled\r\n            if(Config.shadow.enabled) {\r\n              child.receiveShadow = true;\r\n              child.castShadow = true;\r\n            }\r\n          }\r\n        });\r\n\r\n        // Add mesh helper if Dev\r\n        if(Config.isDev && Config.mesh.enableHelper) {\r\n          new MeshHelper(this.scene, obj);\r\n        }\r\n\r\n        // Set prop to obj so it can be accessed from outside the class\r\n        this.obj = obj;\r\n\r\n        obj.scale.multiplyScalar(Config.model.scale);\r\n       // this.scene.add(obj);\r\n      },\r\n      Helpers.logProgress(),\r\n      Helpers.logError()\r\n    );\r\n  }\r\n}\r\n","import * as THREE from 'three';\r\n// Promise polyfill for IE\r\nimport { Promise } from 'es6-promise';\r\n\r\nimport Helpers from '../../utils/helpers';\r\nimport Config from '../../data/config';\r\n\r\n// This class preloads all textures in the imageFiles array in the Config via ES6 Promises.\r\n// Once all textures are done loading the model itself will be loaded after the Promise .then() callback.\r\n// Using promises to preload textures prevents issues when applying textures to materials\r\n// before the textures have loaded.\r\nexport default class Texture {\r\n  constructor() {\r\n    // Prop that will contain all loaded textures\r\n    this.textures = {};\r\n  }\r\n\r\n  load() {\r\n    const loader = new THREE.TextureLoader();\r\n    const maxAnisotropy = Config.maxAnisotropy;\r\n    const imageFiles = Config.texture.imageFiles;\r\n    const promiseArray = [];\r\n\r\n    loader.setPath(Config.texture.path);\r\n\r\n    imageFiles.forEach(imageFile => {\r\n      // Add an individual Promise for each image in array\r\n      promiseArray.push(new Promise((resolve, reject) => {\r\n        // Each Promise will attempt to load the image file\r\n        loader.load(imageFile.image,\r\n          // This gets called on load with the loaded texture\r\n          texture => {\r\n            texture.anisotropy = maxAnisotropy;\r\n\r\n            // Resolve Promise with object of texture if it is instance of THREE.Texture\r\n            const modelOBJ = {};\r\n            modelOBJ[imageFile.name] = texture;\r\n            if(modelOBJ[imageFile.name] instanceof THREE.Texture)\r\n              resolve(modelOBJ);\r\n          },\r\n          Helpers.logProgress(),\r\n          xhr => reject(new Error(xhr + 'An error occurred loading while loading ' + imageFile.image))\r\n        )\r\n      }));\r\n    });\r\n\r\n    // Iterate through all Promises in array and return another Promise when all have resolved or console log reason when any reject\r\n    return Promise.all(promiseArray).then(textures => {\r\n      // Set the textures prop object to have name be the resolved texture\r\n      for(let i = 0; i < textures.length; i++) {\r\n        this.textures[Object.keys(textures[i])[0]] = textures[i][Object.keys(textures[i])[0]];\r\n      }\r\n    }, reason => console.log(reason));\r\n  }\r\n}\r\n","import TWEEN from 'tween.js';\n\n// This object contains the state of the app\nexport default {\n  isDev: false,\n  isShowingStats: true,\n  isLoaded: false,\n  isTweening: false,\n  isRotating: true,\n  isMouseMoving: false,\n  isMouseOver: false,\n  maxAnisotropy: 1,\n  dpr: 1,\n  easing: TWEEN.Easing.Quadratic.InOut,\n  duration: 500,\n  model: {\n    path: './assets/models/Teapot.json',\n    scale: 20\n  },\n  texture: {\n    path: './assets/textures/',\n    imageFiles: [\n      {name: 'UV', image: 'UV_Grid_Sm.jpg'},\n      {name: 'map', image: 'map.jpg'}\n    ]\n  },\n  mesh: {\n    enableHelper: false,\n    wireframe: false,\n    translucent: true,\n    material: {\n      color: 0xffffff,\n      emissive: 0xffffff\n    }\n  },\n  fog: {\n    color: 0xffffff,\n    near: 0.0008\n  },\n  camera: {\n    fov: 40,\n    near: 0.01,\n    far: 1000,\n    aspect: 1920/1080,\n    posX: 0,\n    posY: 16.5,\n    posZ: 100\n  },\n  controls: {\n    autoRotate: false,\n    autoRotateSpeed: -0.5,\n    rotateSpeed: 0.5,\n    zoomSpeed: 0.8,\n    minDistance: 200,\n    maxDistance: 600,\n    minPolarAngle: Math.PI / 5,\n    maxPolarAngle: Math.PI / 2,\n    minAzimuthAngle: -Infinity,\n    maxAzimuthAngle: Infinity,\n    enableDamping: true,\n    dampingFactor: 0.5,\n    enableZoom: true,\n    target: {\n      x: 0,\n      y: 0,\n      z: 0\n    }\n  },\n  ambientLight: {\n    enabled: true,\n    color: 0x141414\n  },\n  directionalLight: {\n    enabled: true,\n    color: 0xf0f0f0,\n    intensity: 0.7,\n    x: 93,\n    y: -87,\n    z: 274\n  },\n  shadow: {\n    enabled: true,\n    helperEnabled: false,\n    bias: 0,\n    mapWidth: 2048,\n    mapHeight: 2048,\n    near: 124,\n    far: 358,\n    top: 64,\n    right: 100,\n    bottom: 82,\n    left: -100\n  },\n  pointLight: {\n    enabled: false,\n    color: 0xffffff,\n    intensity: 0.34,\n    distance: 115,\n    x: -50,\n    y: 15,\n    z: 100\n  },\n  hemiLight: {\n    enabled: true,\n    color: 0xff3f3f,\n    groundColor: 0xffffff,\n    intensity: 0.55,\n    x: 0,\n    y: 0,\n    z: 0\n  }\n};\n","/**\n * @author alteredq / http://alteredqualia.com/\n * @author mr.doob / http://mrdoob.com/\n */\n\nexport default {\n  canvas: !!window.CanvasRenderingContext2D,\n  webgl: (function() {\n    try {\n      var canvas = document.createElement('canvas');\n\n      return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n    } catch(e) {\n      return false;\n    }\n  })(),\n\n  workers: !!window.Worker,\n  fileapi: window.File && window.FileReader && window.FileList && window.Blob,\n\n  getWebGLErrorMessage: function() {\n    var element = document.createElement('div');\n    element.id = 'webgl-error-message';\n    element.style.fontFamily = 'monospace';\n    element.style.fontSize = '13px';\n    element.style.fontWeight = 'normal';\n    element.style.textAlign = 'center';\n    element.style.background = '#fff';\n    element.style.color = '#000';\n    element.style.padding = '1.5em';\n    element.style.width = '400px';\n    element.style.margin = '5em auto 0';\n\n    if(!this.webgl) {\n      element.innerHTML = window.WebGLRenderingContext ? [\n        'Your graphics card does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000000\">WebGL</a>.<br />',\n        'Find out how to get it <a href=\"http://get.webgl.org/\" style=\"color:#000000\">here</a>.'\n      ].join('\\n') : [\n        'Your browser does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000000\">WebGL</a>.<br/>',\n        'Find out how to get it <a href=\"http://get.webgl.org/\" style=\"color:#000000\">here</a>.'\n      ].join('\\n');\n    }\n\n    return element;\n  },\n\n  addGetWebGLMessage: function(parameters) {\n    var parent, id, element;\n\n    parameters = parameters || {};\n\n    parent = parameters.parent !== undefined ? parameters.parent : document.body;\n    id = parameters.id !== undefined ? parameters.id : 'oldie';\n\n    element = this.getWebGLErrorMessage();\n    element.id = id;\n\n    parent.appendChild(element);\n  }\n};\n","// Provides simple static functions that are used multiple times in the app\nexport default class Helpers {\n  static throttle(fn, threshhold, scope) {\n    threshhold || (threshhold = 250);\n    let last, deferTimer;\n\n    return function() {\n      const context = scope || this;\n\n      const now  = +new Date,\n          args = arguments;\n\n      if(last && now < last + threshhold) {\n        clearTimeout(deferTimer);\n        deferTimer = setTimeout(function() {\n          last = now;\n          fn.apply(context, args);\n        }, threshhold);\n      }\n      else {\n        last = now;\n        fn.apply(context, args);\n      }\n    };\n  }\n\n  static logProgress() {\n    return function(xhr) {\n      if(xhr.lengthComputable) {\n        const percentComplete = xhr.loaded / xhr.total * 100;\n\n        console.log(Math.round(percentComplete, 2) + '% downloaded');\n      }\n    }\n  }\n\n  static logError() {\n    return function(xhr) {\n      console.error(xhr);\n    }\n  }\n\n  static handleColorChange(color) {\n    return (value) => {\n      if(typeof value === 'string') {\n        value = value.replace('#', '0x');\n      }\n\n      color.setHex(value);\n    };\n  }\n\n  static update(mesh) {\n    this.needsUpdate(mesh.material, mesh.geometry);\n  }\n\n  static needsUpdate(material, geometry) {\n    return function() {\n      material.shading = +material.shading; //Ensure number\n      material.vertexColors = +material.vertexColors; //Ensure number\n      material.side = +material.side; //Ensure number\n      material.needsUpdate = true;\n      geometry.verticesNeedUpdate = true;\n      geometry.normalsNeedUpdate = true;\n      geometry.colorsNeedUpdate = true;\n    };\n  }\n\n  static updateTexture(material, materialKey, textures) {\n    return function(key) {\n      material[materialKey] = textures[key];\n      material.needsUpdate = true;\n    };\n  }\n}\n","const ALIAS = {\n  'left'\t\t: 37,\n  'up'\t\t  : 38,\n  'right'\t\t: 39,\n  'down'\t\t: 40,\n  'space'\t\t: 32,\n  'tab'\t\t  : 9,\n  'escape'\t: 27\n};\n\nexport default class Keyboard {\n  constructor(domElement) {\n    this.domElement = domElement || document;\n    this.keyCodes = {};\n\n    // bind keyEvents\n    this.domElement.addEventListener('keydown', (event) => this.onKeyChange(event), false);\n    this.domElement.addEventListener('keyup', (event) => this.onKeyChange(event), false);\n\n    // bind window blur\n    window.addEventListener('blur', () => this.onBlur, false);\n  }\n\n  destroy() {\n    this.domElement.removeEventListener('keydown', (event) => this.onKeyChange(event), false);\n    this.domElement.removeEventListener('keyup', (event) => this.onKeyChange(event), false);\n\n    // unbind window blur event\n    window.removeEventListener('blur', () => this.onBlur, false);\n  }\n\n  onBlur() {\n    for(const prop in this.keyCodes)\n      this.keyCodes[prop] = false;\n  }\n\n  onKeyChange(event) {\n    // log to debug\n    //console.log('onKeyChange', event, event.keyCode, event.shiftKey, event.ctrlKey, event.altKey, event.metaKey)\n\n    // update this.keyCodes\n    const keyCode = event.keyCode;\n    this.keyCodes[keyCode] = event.type === 'keydown';\n  }\n\n  pressed(keyDesc) {\n    const keys = keyDesc.split('+');\n    for(let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      let pressed = false;\n      if(Object.keys(ALIAS).indexOf(key) != -1) {\n        pressed = this.keyCodes[ALIAS[key]];\n      } else {\n        pressed = this.keyCodes[key.toUpperCase().charCodeAt(0)];\n      }\n      if(!pressed)\n        return false;\n    }\n\n    return true;\n  }\n\n  eventMatches(event, keyDesc) {\n    const aliases = ALIAS;\n    const aliasKeys = Object.keys(aliases);\n    const keys = keyDesc.split('+');\n    // log to debug\n    // console.log('eventMatches', event, event.keyCode, event.shiftKey, event.ctrlKey, event.altKey, event.metaKey)\n    for(let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      let pressed = false;\n      if(key === 'shift') {\n        pressed = event.shiftKey ? true : false;\n      } else if(key === 'ctrl') {\n        pressed = event.ctrlKey ? true : false;\n      } else if(key === 'alt') {\n        pressed = event.altKey ? true : false;\n      } else if(key === 'meta') {\n        pressed = event.metaKey ? true : false;\n      } else if(aliasKeys.indexOf(key) !== -1) {\n        pressed = event.keyCode === aliases[key];\n      } else if(event.keyCode === key.toUpperCase().charCodeAt(0)) {\n        pressed = true;\n      }\n      if(!pressed)\n        return false;\n    }\n\n    return true;\n  }\n}\n","module.exports = function(THREE) {\n  var MOUSE = THREE.MOUSE\n  if (!MOUSE)\n    MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\n\n  /**\n   * @author qiao / https://github.com/qiao\n   * @author mrdoob / http://mrdoob.com\n   * @author alteredq / http://alteredqualia.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author erich666 / http://erichaines.com\n   */\n  /*global THREE, console */\n\n  function OrbitConstraint ( object ) {\n\n    this.object = object;\n\n    // \"target\" sets the location of focus, where the object orbits around\n    // and where it pans with respect to.\n    this.target = new THREE.Vector3();\n\n    // Limits to how far you can dolly in and out ( PerspectiveCamera only )\n    this.minDistance = 0;\n    this.maxDistance = Infinity;\n\n    // Limits to how far you can zoom in and out ( OrthographicCamera only )\n    this.minZoom = 0;\n    this.maxZoom = Infinity;\n\n    // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n    this.minPolarAngle = 0; // radians\n    this.maxPolarAngle = Math.PI; // radians\n\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n    this.minAzimuthAngle = - Infinity; // radians\n    this.maxAzimuthAngle = Infinity; // radians\n\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n    this.enableDamping = false;\n    this.dampingFactor = 0.25;\n\n    ////////////\n    // internals\n\n    var scope = this;\n\n    var EPS = 0.000001;\n\n    // Current position in spherical coordinate system.\n    var theta;\n    var phi;\n\n    // Pending changes\n    var phiDelta = 0;\n    var thetaDelta = 0;\n    var scale = 1;\n    var panOffset = new THREE.Vector3();\n    var zoomChanged = false;\n\n    // API\n\n    this.getPolarAngle = function () {\n\n      return phi;\n\n    };\n\n    this.getAzimuthalAngle = function () {\n\n      return theta;\n\n    };\n\n    this.rotateLeft = function ( angle ) {\n\n      thetaDelta -= angle;\n\n    };\n\n    this.rotateUp = function ( angle ) {\n\n      phiDelta -= angle;\n\n    };\n\n    // pass in distance in world space to move left\n    this.panLeft = function() {\n\n      var v = new THREE.Vector3();\n\n      return function panLeft ( distance ) {\n\n        var te = this.object.matrix.elements;\n\n        // get X column of matrix\n        v.set( te[ 0 ], te[ 1 ], te[ 2 ] );\n        v.multiplyScalar( - distance );\n\n        panOffset.add( v );\n\n      };\n\n    }();\n\n    // pass in distance in world space to move up\n    this.panUp = function() {\n\n      var v = new THREE.Vector3();\n\n      return function panUp ( distance ) {\n\n        var te = this.object.matrix.elements;\n\n        // get Y column of matrix\n        v.set( te[ 4 ], te[ 5 ], te[ 6 ] );\n        v.multiplyScalar( distance );\n\n        panOffset.add( v );\n\n      };\n\n    }();\n\n    // pass in x,y of change desired in pixel space,\n    // right and down are positive\n    this.pan = function ( deltaX, deltaY, screenWidth, screenHeight ) {\n\n      if ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n        // perspective\n        var position = scope.object.position;\n        var offset = position.clone().sub( scope.target );\n        var targetDistance = offset.length();\n\n        // half of the fov is center to top of screen\n        targetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n        // we actually don't use screenWidth, since perspective camera is fixed to screen height\n        scope.panLeft( 2 * deltaX * targetDistance / screenHeight );\n        scope.panUp( 2 * deltaY * targetDistance / screenHeight );\n\n      } else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n        // orthographic\n        scope.panLeft( deltaX * ( scope.object.right - scope.object.left ) / screenWidth );\n        scope.panUp( deltaY * ( scope.object.top - scope.object.bottom ) / screenHeight );\n\n      } else {\n\n        // camera neither orthographic or perspective\n        console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\n      }\n\n    };\n\n    this.dollyIn = function ( dollyScale ) {\n\n      if ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n        scale /= dollyScale;\n\n      } else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n        scope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom * dollyScale ) );\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n\n      } else {\n\n        console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\n      }\n\n    };\n\n    this.dollyOut = function ( dollyScale ) {\n\n      if ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n        scale *= dollyScale;\n\n      } else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n        scope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / dollyScale ) );\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n\n      } else {\n\n        console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\n      }\n\n    };\n\n    this.update = function() {\n\n      var offset = new THREE.Vector3();\n\n      // so camera.up is the orbit axis\n      var quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n      var quatInverse = quat.clone().inverse();\n\n      var lastPosition = new THREE.Vector3();\n      var lastQuaternion = new THREE.Quaternion();\n\n      return function () {\n\n        var position = this.object.position;\n\n        offset.copy( position ).sub( this.target );\n\n        // rotate offset to \"y-axis-is-up\" space\n        offset.applyQuaternion( quat );\n\n        // angle from z-axis around y-axis\n\n        theta = Math.atan2( offset.x, offset.z );\n\n        // angle from y-axis\n\n        phi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\n\n        theta += thetaDelta;\n        phi += phiDelta;\n\n        // restrict theta to be between desired limits\n        theta = Math.max( this.minAzimuthAngle, Math.min( this.maxAzimuthAngle, theta ) );\n\n        // restrict phi to be between desired limits\n        phi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );\n\n        // restrict phi to be betwee EPS and PI-EPS\n        phi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\n\n        var radius = offset.length() * scale;\n\n        // restrict radius to be between desired limits\n        radius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );\n\n        // move target to panned location\n        this.target.add( panOffset );\n\n        offset.x = radius * Math.sin( phi ) * Math.sin( theta );\n        offset.y = radius * Math.cos( phi );\n        offset.z = radius * Math.sin( phi ) * Math.cos( theta );\n\n        // rotate offset back to \"camera-up-vector-is-up\" space\n        offset.applyQuaternion( quatInverse );\n\n        position.copy( this.target ).add( offset );\n\n        this.object.lookAt( this.target );\n\n        if ( this.enableDamping === true ) {\n\n          thetaDelta *= ( 1 - this.dampingFactor );\n          phiDelta *= ( 1 - this.dampingFactor );\n\n        } else {\n\n          thetaDelta = 0;\n          phiDelta = 0;\n\n        }\n\n        scale = 1;\n        panOffset.set( 0, 0, 0 );\n\n        // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n        if ( zoomChanged ||\n          lastPosition.distanceToSquared( this.object.position ) > EPS ||\n          8 * ( 1 - lastQuaternion.dot( this.object.quaternion ) ) > EPS ) {\n\n          lastPosition.copy( this.object.position );\n          lastQuaternion.copy( this.object.quaternion );\n          zoomChanged = false;\n\n          return true;\n\n        }\n\n        return false;\n\n      };\n\n    }();\n\n  };\n\n\n  // This set of controls performs orbiting, dollying (zooming), and panning. It maintains\n  // the \"up\" direction as +Y, unlike the TrackballControls. Touch on tablet and phones is\n  // supported.\n  //\n  //    Orbit - left mouse / touch: one finger move\n  //    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n  //    Pan - right mouse, or arrow keys / touch: three finter swipe\n\n  function OrbitControls ( object, domElement ) {\n\n    var constraint = new OrbitConstraint( object );\n\n    this.domElement = ( domElement !== undefined ) ? domElement : document;\n\n    // API\n\n    Object.defineProperty( this, 'constraint', {\n\n      get: function() {\n\n        return constraint;\n\n      }\n\n    } );\n\n    this.getPolarAngle = function () {\n\n      return constraint.getPolarAngle();\n\n    };\n\n    this.getAzimuthalAngle = function () {\n\n      return constraint.getAzimuthalAngle();\n\n    };\n\n    // Set to false to disable this control\n    this.enabled = true;\n\n    // center is old, deprecated; use \"target\" instead\n    this.center = this.target;\n\n    // This option actually enables dollying in and out; left as \"zoom\" for\n    // backwards compatibility.\n    // Set to false to disable zooming\n    this.enableZoom = true;\n    this.zoomSpeed = 1.0;\n\n    // Set to false to disable rotating\n    this.enableRotate = true;\n    this.rotateSpeed = 1.0;\n\n    // Set to false to disable panning\n    this.enablePan = true;\n    this.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n    this.autoRotate = false;\n    this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n    // Set to false to disable use of the keys\n    this.enableKeys = true;\n\n    // The four arrow keys\n    this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n    // Mouse buttons\n    this.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n    ////////////\n    // internals\n\n    var scope = this;\n\n    var rotateStart = new THREE.Vector2();\n    var rotateEnd = new THREE.Vector2();\n    var rotateDelta = new THREE.Vector2();\n\n    var panStart = new THREE.Vector2();\n    var panEnd = new THREE.Vector2();\n    var panDelta = new THREE.Vector2();\n\n    var dollyStart = new THREE.Vector2();\n    var dollyEnd = new THREE.Vector2();\n    var dollyDelta = new THREE.Vector2();\n\n    var STATE = { NONE : - 1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\n\n    var state = STATE.NONE;\n\n    // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object.zoom;\n\n    // events\n\n    var changeEvent = { type: 'change' };\n    var startEvent = { type: 'start' };\n    var endEvent = { type: 'end' };\n\n    // pass in x,y of change desired in pixel space,\n    // right and down are positive\n    function pan( deltaX, deltaY ) {\n\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n      constraint.pan( deltaX, deltaY, element.clientWidth, element.clientHeight );\n\n    }\n\n    this.update = function () {\n\n      if ( this.autoRotate && state === STATE.NONE ) {\n\n        constraint.rotateLeft( getAutoRotationAngle() );\n\n      }\n\n      if ( constraint.update() === true ) {\n\n        this.dispatchEvent( changeEvent );\n\n      }\n\n    };\n\n    this.reset = function () {\n\n      state = STATE.NONE;\n\n      this.target.copy( this.target0 );\n      this.object.position.copy( this.position0 );\n      this.object.zoom = this.zoom0;\n\n      this.object.updateProjectionMatrix();\n      this.dispatchEvent( changeEvent );\n\n      this.update();\n\n    };\n\n    function getAutoRotationAngle() {\n\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n    }\n\n    function getZoomScale() {\n\n      return Math.pow( 0.95, scope.zoomSpeed );\n\n    }\n\n    function onMouseDown( event ) {\n\n      if ( scope.enabled === false ) return;\n\n      event.preventDefault();\n\n      if ( event.button === scope.mouseButtons.ORBIT ) {\n\n        if ( scope.enableRotate === false ) return;\n\n        state = STATE.ROTATE;\n\n        rotateStart.set( event.clientX, event.clientY );\n\n      } else if ( event.button === scope.mouseButtons.ZOOM ) {\n\n        if ( scope.enableZoom === false ) return;\n\n        state = STATE.DOLLY;\n\n        dollyStart.set( event.clientX, event.clientY );\n\n      } else if ( event.button === scope.mouseButtons.PAN ) {\n\n        if ( scope.enablePan === false ) return;\n\n        state = STATE.PAN;\n\n        panStart.set( event.clientX, event.clientY );\n\n      }\n\n      if ( state !== STATE.NONE ) {\n\n        document.addEventListener( 'mousemove', onMouseMove, false );\n        document.addEventListener( 'mouseup', onMouseUp, false );\n        scope.dispatchEvent( startEvent );\n\n      }\n\n    }\n\n    function onMouseMove( event ) {\n\n      if ( scope.enabled === false ) return;\n\n      event.preventDefault();\n\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n      if ( state === STATE.ROTATE ) {\n\n        if ( scope.enableRotate === false ) return;\n\n        rotateEnd.set( event.clientX, event.clientY );\n        rotateDelta.subVectors( rotateEnd, rotateStart );\n\n        // rotating across whole screen goes 360 degrees around\n        constraint.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n        // rotating up and down along whole screen attempts to go 360, but limited to 180\n        constraint.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n        rotateStart.copy( rotateEnd );\n\n      } else if ( state === STATE.DOLLY ) {\n\n        if ( scope.enableZoom === false ) return;\n\n        dollyEnd.set( event.clientX, event.clientY );\n        dollyDelta.subVectors( dollyEnd, dollyStart );\n\n        if ( dollyDelta.y > 0 ) {\n\n          constraint.dollyIn( getZoomScale() );\n\n        } else if ( dollyDelta.y < 0 ) {\n\n          constraint.dollyOut( getZoomScale() );\n\n        }\n\n        dollyStart.copy( dollyEnd );\n\n      } else if ( state === STATE.PAN ) {\n\n        if ( scope.enablePan === false ) return;\n\n        panEnd.set( event.clientX, event.clientY );\n        panDelta.subVectors( panEnd, panStart );\n\n        pan( panDelta.x, panDelta.y );\n\n        panStart.copy( panEnd );\n\n      }\n\n      if ( state !== STATE.NONE ) scope.update();\n\n    }\n\n    function onMouseUp( /* event */ ) {\n\n      if ( scope.enabled === false ) return;\n\n      document.removeEventListener( 'mousemove', onMouseMove, false );\n      document.removeEventListener( 'mouseup', onMouseUp, false );\n      scope.dispatchEvent( endEvent );\n      state = STATE.NONE;\n\n    }\n\n    function onMouseWheel( event ) {\n\n      if ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      var delta = 0;\n\n      if ( event.wheelDelta !== undefined ) {\n\n        // WebKit / Opera / Explorer 9\n\n        delta = event.wheelDelta;\n\n      } else if ( event.detail !== undefined ) {\n\n        // Firefox\n\n        delta = - event.detail;\n\n      }\n\n      if ( delta > 0 ) {\n\n        constraint.dollyOut( getZoomScale() );\n\n      } else if ( delta < 0 ) {\n\n        constraint.dollyIn( getZoomScale() );\n\n      }\n\n      scope.update();\n      scope.dispatchEvent( startEvent );\n      scope.dispatchEvent( endEvent );\n\n    }\n\n    function onKeyDown( event ) {\n\n      if ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n      switch ( event.keyCode ) {\n\n        case scope.keys.UP:\n          pan( 0, scope.keyPanSpeed );\n          scope.update();\n          break;\n\n        case scope.keys.BOTTOM:\n          pan( 0, - scope.keyPanSpeed );\n          scope.update();\n          break;\n\n        case scope.keys.LEFT:\n          pan( scope.keyPanSpeed, 0 );\n          scope.update();\n          break;\n\n        case scope.keys.RIGHT:\n          pan( - scope.keyPanSpeed, 0 );\n          scope.update();\n          break;\n\n      }\n\n    }\n\n    function touchstart( event ) {\n\n      if ( scope.enabled === false ) return;\n\n      switch ( event.touches.length ) {\n\n        case 1:\t// one-fingered touch: rotate\n\n          if ( scope.enableRotate === false ) return;\n\n          state = STATE.TOUCH_ROTATE;\n\n          rotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n          break;\n\n        case 2:\t// two-fingered touch: dolly\n\n          if ( scope.enableZoom === false ) return;\n\n          state = STATE.TOUCH_DOLLY;\n\n          var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n          var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n          var distance = Math.sqrt( dx * dx + dy * dy );\n          dollyStart.set( 0, distance );\n          break;\n\n        case 3: // three-fingered touch: pan\n\n          if ( scope.enablePan === false ) return;\n\n          state = STATE.TOUCH_PAN;\n\n          panStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n          break;\n\n        default:\n\n          state = STATE.NONE;\n\n      }\n\n      if ( state !== STATE.NONE ) scope.dispatchEvent( startEvent );\n\n    }\n\n    function touchmove( event ) {\n\n      if ( scope.enabled === false ) return;\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n      switch ( event.touches.length ) {\n\n        case 1: // one-fingered touch: rotate\n\n          if ( scope.enableRotate === false ) return;\n          if ( state !== STATE.TOUCH_ROTATE ) return;\n\n          rotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n          rotateDelta.subVectors( rotateEnd, rotateStart );\n\n          // rotating across whole screen goes 360 degrees around\n          constraint.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n          // rotating up and down along whole screen attempts to go 360, but limited to 180\n          constraint.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n          rotateStart.copy( rotateEnd );\n\n          scope.update();\n          break;\n\n        case 2: // two-fingered touch: dolly\n\n          if ( scope.enableZoom === false ) return;\n          if ( state !== STATE.TOUCH_DOLLY ) return;\n\n          var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n          var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n          var distance = Math.sqrt( dx * dx + dy * dy );\n\n          dollyEnd.set( 0, distance );\n          dollyDelta.subVectors( dollyEnd, dollyStart );\n\n          if ( dollyDelta.y > 0 ) {\n\n            constraint.dollyOut( getZoomScale() );\n\n          } else if ( dollyDelta.y < 0 ) {\n\n            constraint.dollyIn( getZoomScale() );\n\n          }\n\n          dollyStart.copy( dollyEnd );\n\n          scope.update();\n          break;\n\n        case 3: // three-fingered touch: pan\n\n          if ( scope.enablePan === false ) return;\n          if ( state !== STATE.TOUCH_PAN ) return;\n\n          panEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n          panDelta.subVectors( panEnd, panStart );\n\n          pan( panDelta.x, panDelta.y );\n\n          panStart.copy( panEnd );\n\n          scope.update();\n          break;\n\n        default:\n\n          state = STATE.NONE;\n\n      }\n\n    }\n\n    function touchend( /* event */ ) {\n\n      if ( scope.enabled === false ) return;\n\n      scope.dispatchEvent( endEvent );\n      state = STATE.NONE;\n\n    }\n\n    function contextmenu( event ) {\n\n      event.preventDefault();\n\n    }\n\n    this.dispose = function() {\n\n      this.domElement.removeEventListener( 'contextmenu', contextmenu, false );\n      this.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n      this.domElement.removeEventListener( 'mousewheel', onMouseWheel, false );\n      this.domElement.removeEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\n\n      this.domElement.removeEventListener( 'touchstart', touchstart, false );\n      this.domElement.removeEventListener( 'touchend', touchend, false );\n      this.domElement.removeEventListener( 'touchmove', touchmove, false );\n\n      document.removeEventListener( 'mousemove', onMouseMove, false );\n      document.removeEventListener( 'mouseup', onMouseUp, false );\n\n      window.removeEventListener( 'keydown', onKeyDown, false );\n\n    }\n\n    this.domElement.addEventListener( 'contextmenu', contextmenu, false );\n\n    this.domElement.addEventListener( 'mousedown', onMouseDown, false );\n    this.domElement.addEventListener( 'mousewheel', onMouseWheel, false );\n    this.domElement.addEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\n\n    this.domElement.addEventListener( 'touchstart', touchstart, false );\n    this.domElement.addEventListener( 'touchend', touchend, false );\n    this.domElement.addEventListener( 'touchmove', touchmove, false );\n\n    window.addEventListener( 'keydown', onKeyDown, false );\n\n    // force an update at start\n    this.update();\n\n  };\n\n  OrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\n  OrbitControls.prototype.constructor = OrbitControls;\n\n  Object.defineProperties( OrbitControls.prototype, {\n\n    object: {\n\n      get: function () {\n\n        return this.constraint.object;\n\n      }\n\n    },\n\n    target: {\n\n      get: function () {\n\n        return this.constraint.target;\n\n      },\n\n      set: function ( value ) {\n\n        console.warn( 'THREE.OrbitControls: target is now immutable. Use target.set() instead.' );\n        this.constraint.target.copy( value );\n\n      }\n\n    },\n\n    minDistance : {\n\n      get: function () {\n\n        return this.constraint.minDistance;\n\n      },\n\n      set: function ( value ) {\n\n        this.constraint.minDistance = value;\n\n      }\n\n    },\n\n    maxDistance : {\n\n      get: function () {\n\n        return this.constraint.maxDistance;\n\n      },\n\n      set: function ( value ) {\n\n        this.constraint.maxDistance = value;\n\n      }\n\n    },\n\n    minZoom : {\n\n      get: function () {\n\n        return this.constraint.minZoom;\n\n      },\n\n      set: function ( value ) {\n\n        this.constraint.minZoom = value;\n\n      }\n\n    },\n\n    maxZoom : {\n\n      get: function () {\n\n        return this.constraint.maxZoom;\n\n      },\n\n      set: function ( value ) {\n\n        this.constraint.maxZoom = value;\n\n      }\n\n    },\n\n    minPolarAngle : {\n\n      get: function () {\n\n        return this.constraint.minPolarAngle;\n\n      },\n\n      set: function ( value ) {\n\n        this.constraint.minPolarAngle = value;\n\n      }\n\n    },\n\n    maxPolarAngle : {\n\n      get: function () {\n\n        return this.constraint.maxPolarAngle;\n\n      },\n\n      set: function ( value ) {\n\n        this.constraint.maxPolarAngle = value;\n\n      }\n\n    },\n\n    minAzimuthAngle : {\n\n      get: function () {\n\n        return this.constraint.minAzimuthAngle;\n\n      },\n\n      set: function ( value ) {\n\n        this.constraint.minAzimuthAngle = value;\n\n      }\n\n    },\n\n    maxAzimuthAngle : {\n\n      get: function () {\n\n        return this.constraint.maxAzimuthAngle;\n\n      },\n\n      set: function ( value ) {\n\n        this.constraint.maxAzimuthAngle = value;\n\n      }\n\n    },\n\n    enableDamping : {\n\n      get: function () {\n\n        return this.constraint.enableDamping;\n\n      },\n\n      set: function ( value ) {\n\n        this.constraint.enableDamping = value;\n\n      }\n\n    },\n\n    dampingFactor : {\n\n      get: function () {\n\n        return this.constraint.dampingFactor;\n\n      },\n\n      set: function ( value ) {\n\n        this.constraint.dampingFactor = value;\n\n      }\n\n    },\n\n    // backward compatibility\n\n    noZoom: {\n\n      get: function () {\n\n        console.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n        return ! this.enableZoom;\n\n      },\n\n      set: function ( value ) {\n\n        console.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n        this.enableZoom = ! value;\n\n      }\n\n    },\n\n    noRotate: {\n\n      get: function () {\n\n        console.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n        return ! this.enableRotate;\n\n      },\n\n      set: function ( value ) {\n\n        console.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n        this.enableRotate = ! value;\n\n      }\n\n    },\n\n    noPan: {\n\n      get: function () {\n\n        console.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n        return ! this.enablePan;\n\n      },\n\n      set: function ( value ) {\n\n        console.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n        this.enablePan = ! value;\n\n      }\n\n    },\n\n    noKeys: {\n\n      get: function () {\n\n        console.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n        return ! this.enableKeys;\n\n      },\n\n      set: function ( value ) {\n\n        console.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n        this.enableKeys = ! value;\n\n      }\n\n    },\n\n    staticMoving : {\n\n      get: function () {\n\n        console.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n        return ! this.constraint.enableDamping;\n\n      },\n\n      set: function ( value ) {\n\n        console.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n        this.constraint.enableDamping = ! value;\n\n      }\n\n    },\n\n    dynamicDampingFactor : {\n\n      get: function () {\n\n        console.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n        return this.constraint.dampingFactor;\n\n      },\n\n      set: function ( value ) {\n\n        console.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n        this.constraint.dampingFactor = value;\n\n      }\n\n    }\n\n  } );\n\n  return OrbitControls;\n}\n"],"sourceRoot":""}